{"version":3,"sources":["webpack:///webpack/bootstrap 610149450060eaf960ad","webpack:///./d:/Ross/docs/projects/generative/simpatico/src/main.js","webpack:///./~/mainloop.js/build/mainloop.min.js","webpack:///./d:/Ross/docs/projects/generative/simpatico/src/core/screen.js","webpack:///./d:/Ross/docs/projects/generative/simpatico/src/scene/scene.js","webpack:///./d:/Ross/docs/projects/generative/simpatico/src/settings.js","webpack:///./d:/Ross/docs/projects/generative/simpatico/src/core/timeKeeper.js","webpack:///./d:/Ross/docs/projects/generative/simpatico/src/core/wave.js","webpack:///./~/husl/dist/husl.min.js","webpack:///./d:/Ross/docs/projects/generative/simpatico/src/core/utility.js"],"names":["mainLoop","timeKeeper","scene","screen","main","canvas","document","getElementById","context","getContext","width","clientWidth","height","clientHeight","setUpdate","mainUpdate","setDraw","mainDraw","setEnd","mainEnd","start","deltaMs","updateTime","update","interpolationPercentage","resize","clear","draw","fps","panic","discardedTime","Math","round","resetFrameDelta","console","warn","Screen","font","w","h","imageData","createImageData","color","shadowBlur","clearRect","fillStyle","fillRect","circles","circle","drawCircle","x","y","r","lines","line","drawLine","radians","length","rectangles","rect","imageElement","drawImage","text","fillText","createElement","beginPath","arc","PI","fill","strokeStyle","lineWidth","x2","cos","y2","sin","moveTo","lineTo","stroke","husl","utility","Scene","boundary","makeBoundary","n","numSliders","sliders","makeSliders","updateSliders","drawSliders","hueMod","sine","time","hueF","reverse","min","max","frequency","widthF","sliderWidthMin","sliderWidthMax","widthAt1","Number","EPSILON","widthAt0","maxX","xMargin","xPosF","i","slider","motionValue","motion","hue","scaleFrom","widthPercent","toHex","count","result","heightMin","sliderHeightMin","heightMax","sliderHeightMax","frequencyFunction","scale","slowestSliderPeriodMs","fastestSliderPeriodMs","heightFunction","smooth","push","drawRectangles","marginPercent","screenMargin","xMin","yMin","xMax","yMax","settings","palette","getTimeProgress","getTotalTimeMs","getLastDeltaMs","totalTimeMs","lastDeltaMs","frequencyHz","periodMs","wave","build","linear","sawtooth","triangle","square","timePeriod","smoothStep","carrier","config","carrierFrequency","carrierMin","carrierMax","targetMin","targetMax","shift","frequencyMod","phaseMod","targetDelta","carrierDelta","A","B","C","D","a","b","c","d","func","abs","sign","rad","down","turn","randomInt","randomNumber","distance","clamp","floor","random","hypot","value","delta","valueMin","valueMax","newMin","newMax","oldDelta","newDelta","ratio"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 610149450060eaf960ad\n **/","import * as mainLoop from \"mainloop.js\";\r\nimport Screen from \"./core/screen.js\";\r\nimport Scene from \"./scene/scene.js\";\r\nimport * as timeKeeper from \"./core/timeKeeper.js\";\r\nimport settings from \"./settings.js\";\r\n\r\nvar scene;\r\nvar screen;\r\n\r\nfunction main() {\r\n    const canvas = document.getElementById(\"canvas\");\r\n    const context = canvas.getContext(\"2d\");\r\n    const width = canvas.clientWidth;\r\n    const height = canvas.clientHeight;\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    screen = new Screen(context);\r\n    scene = new Scene(screen);\r\n    mainLoop.setUpdate(mainUpdate);\r\n    mainLoop.setDraw(mainDraw);\r\n    mainLoop.setEnd(mainEnd);\r\n    mainLoop.start();\r\n}\r\n\r\nfunction mainUpdate(deltaMs) {\r\n    timeKeeper.updateTime(deltaMs);\r\n    scene.update();\r\n}\r\n\r\nfunction mainDraw(interpolationPercentage) {\r\n    screen.resize();\r\n    screen.clear();\r\n    scene.draw();\r\n}\r\n\r\nfunction mainEnd(fps, panic) {\r\n    if(panic) {\r\n        var discardedTime = Math.round(mainLoop.resetFrameDelta());\r\n        console.warn(\"Main loop panicked, probably because the browser tab was put in the background. Discarding \" + discardedTime + \"ms\");\r\n    }\r\n}\r\n\r\nmain();\n\n\n/** WEBPACK FOOTER **\n ** ./d:/Ross/docs/projects/generative/simpatico/src/main.js\n **/","/**\n * mainloop.js 1.0.3-20160320\n *\n * @author Isaac Sukin (http://www.isaacsukin.com/)\n * @license MIT\n */\n\n!function(a){function b(a){if(v=o(b),!(e+j>a)){for(d+=a-e,e=a,r(a,d),a>g+1e3&&(f=.25*h+.75*f,g=a,h=0),h++,i=0;d>=c;)if(s(c),d-=c,++i>=240){m=!0;break}t(d/c),u(f,m),m=!1}}var c=1e3/60,d=0,e=0,f=60,g=0,h=0,i=0,j=0,k=!1,l=!1,m=!1,n=\"object\"==typeof window?window:a,o=n.requestAnimationFrame||function(){var a=Date.now(),b,d;return function(e){return b=Date.now(),d=Math.max(0,c-(b-a)),a=b+d,setTimeout(function(){e(b+d)},d)}}(),p=n.cancelAnimationFrame||clearTimeout,q=function(){},r=q,s=q,t=q,u=q,v;a.MainLoop={getSimulationTimestep:function(){return c},setSimulationTimestep:function(a){return c=a,this},getFPS:function(){return f},getMaxAllowedFPS:function(){return 1e3/j},setMaxAllowedFPS:function(a){return\"undefined\"==typeof a&&(a=1/0),0===a?this.stop():j=1e3/a,this},resetFrameDelta:function(){var a=d;return d=0,a},setBegin:function(a){return r=a||r,this},setUpdate:function(a){return s=a||s,this},setDraw:function(a){return t=a||t,this},setEnd:function(a){return u=a||u,this},start:function(){return l||(l=!0,v=o(function(a){t(1),k=!0,e=a,g=a,h=0,v=o(b)})),this},stop:function(){return k=!1,l=!1,p(v),this},isRunning:function(){return k}},\"function\"==typeof define&&define.amd?define(a.MainLoop):\"object\"==typeof module&&null!==module&&\"object\"==typeof module.exports&&(module.exports=a.MainLoop)}(this);\n//# sourceMappingURL=mainloop.min.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mainloop.js/build/mainloop.min.js\n ** module id = 1\n ** module chunks = 0\n **/","const Screen = class Screen {\r\n    constructor(context) {\r\n        const canvas = context.canvas;\r\n        this.canvas = canvas;\r\n        this.context = context;\r\n        this.width = canvas.width;\r\n        this.height = canvas.height;\r\n        context.font = \"2em sans-serif\";\r\n    }\r\n\r\n    static virtualContext(width, height) {\r\n        const canvas = document.createElement(\"canvas\");\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        const context = canvas.getContext(\"2d\");\r\n        return context;\r\n    }\r\n\r\n    makeImageData(width, height) {\r\n        const w = width || this.width;\r\n        const h = height || this.height;\r\n        const imageData = this.context.createImageData(w, h);\r\n        return imageData;\r\n    }\r\n\r\n    clear(color) {\r\n        this.context.shadowBlur = 0;\r\n        if(!color) {\r\n            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n            return;\r\n        }\r\n        this.context.fillStyle = color;\r\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    resize() {\r\n        const width = this.canvas.clientWidth;\r\n        const height = this.canvas.clientHeight;\r\n        if(this.canvas.width != width || this.canvas.height != height) {\r\n            this.canvas.width = width;\r\n            this.canvas.height = height;\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n    }\r\n\r\n    drawCircles(circles) {\r\n        for(const circle of circles) {\r\n            drawCircle(this.context, circle.x, circle.y, circle.r, circle.color);\r\n        }\r\n    }\r\n\r\n    drawLines(lines) {\r\n        for(const line of lines) {\r\n            drawLine(this.context, line.x, line.y, line.radians, line.length);\r\n        }\r\n    }\r\n\r\n    drawRectangles(rectangles) {\r\n        for(const rect of rectangles) {\r\n            this.context.fillStyle = rect.color;\r\n            this.context.fillRect(rect.x, rect.y, rect.width, rect.height);\r\n        }\r\n    }\r\n\r\n    drawImageStretch(imageElement) {\r\n        const width = this.canvas.width;\r\n        const height = this.canvas.height;\r\n        this.context.drawImage(imageElement, 0, 0, width, height);\r\n    }\r\n\r\n    drawText(text, x, y) {\r\n        this.context.fillStyle = \"#fff\"; \r\n        this.context.fillText(text, x, y);\r\n    }\r\n};\r\n\r\nfunction drawCircle(context, x, y, r, fillStyle) {\r\n    context.beginPath();\r\n    context.arc(x, y, r, 0, 2 * Math.PI, false);\r\n    if (fillStyle) {\r\n        context.fillStyle = fillStyle;\r\n    }\r\n    context.fill();\r\n}\r\n\r\nfunction drawLine(context, x, y, length, radians, strokeStyle, lineWidth) {\r\n    var x2 = x + length * Math.cos(radians);\r\n    var y2 = y + length * Math.sin(radians);\r\n    context.beginPath();\r\n    context.moveTo(x, y);\r\n    context.lineTo(x2, y2);\r\n    if (strokeStyle) {\r\n        context.strokeStyle = strokeStyle;\r\n    }\r\n    if (lineWidth) {\r\n        context.lineWidth = lineWidth;\r\n    }\r\n    context.stroke();\r\n}\r\n\r\nexport default Screen;\n\n\n/** WEBPACK FOOTER **\n ** ./d:/Ross/docs/projects/generative/simpatico/src/core/screen.js\n **/","import settings from \"../settings.js\";\r\nimport * as timeKeeper from \"../core/timeKeeper.js\";\r\nimport wave from \"../core/wave.js\";\r\nimport * as husl from \"husl\";\r\nimport * as utility from \"../core/utility.js\";\r\n\r\nconst Scene = class Scene {\r\n    constructor(screen) {\r\n        timeKeeper.updateTime(0);\r\n        const boundary = makeBoundary(screen);\r\n        const n = settings.numSliders;\r\n        const sliders = makeSliders(n, boundary);\r\n        updateSliders(sliders, boundary);\r\n\r\n        this.boundary = boundary;\r\n        this.sliders = sliders;\r\n        this.screen = screen;\r\n    }\r\n\r\n    update() {\r\n        updateSliders(this.sliders, this.boundary);\r\n    }\r\n\r\n    draw() {\r\n        drawSliders(this.screen, this.sliders);\r\n        //this.screen.drawText(Math.ceil(timeKeeper.getTotalTimeMs()), 50, 50);\r\n    }\r\n};\r\n\r\nfunction updateSliders(sliders, boundary) {\r\n    //const maxX = boundary.width + boundary.x - boundary.width * settings.sliderWidth;\r\n    //const hueF = wave(x => wave.linear(x), {min: 0, max: 360, frequency: 1});\r\n    const hueMod = wave(x => wave.sine(wave.time(1/3)));\r\n    //const hueF = wave(x => (wave.smooth(wave.time(1/2) + x) % 1), {min: 0, max: 360, frequencyMod: hueMod, frequency: 2});\r\n    const hueF = wave(x => (wave.reverse(x - wave.time(1/2))), {min: 0, max: 360, frequency: 1});\r\n    const widthF = wave(x => (wave.sine(x)), {min: settings.sliderWidthMin, max: settings.sliderWidthMax});\r\n    const widthAt1 = boundary.width * widthF(1 - Number.EPSILON);\r\n    const widthAt0 = boundary.width * widthF(0);\r\n    const maxX = boundary.width + boundary.x - (boundary.width * widthAt1);\r\n    //const xPosF = wave(x => wave.linear(x), {min: boundary.x, max: maxX});\r\n    const xMargin = boundary.x * 2;\r\n    const xPosF = wave(x => wave.sine(x), {min: 0 - widthAt0, max: boundary.width + xMargin});\r\n    for(var i = 0; i < sliders.length; i++) {\r\n        const slider = sliders[i];\r\n        const motionValue = slider.motion();\r\n        const hue = hueF(utility.scaleFrom(slider.y, boundary.y, boundary.y + boundary.height, 0, 1));\r\n        const widthPercent = widthF(motionValue);\r\n        slider.color = husl.toHex(hue, 100, 60);\r\n        slider.width = boundary.width * widthPercent;\r\n        const x = xPosF(motionValue);\r\n        slider.x = x;\r\n        //slider.x = boundary.x + boundary.width / 2 - slider.width / 2;\r\n    }\r\n}\r\n\r\nfunction makeSliders(count, boundary) {\r\n    const result = [];\r\n    const heightMin = boundary.height * settings.sliderHeightMin / count;\r\n    const heightMax = boundary.height * settings.sliderHeightMax / count;\r\n    const frequencyFunction = x => utility.scale(x, 1000 / settings.slowestSliderPeriodMs, 1000 / settings.fastestSliderPeriodMs);\r\n    const heightFunction = wave(x => wave.reverse(wave.smooth(x / count)), {min: heightMin, max: heightMax});\r\n    for(var i = 0; i < count; i++) {\r\n        const frequency = frequencyFunction(i / count);\r\n        const motion = wave(x => wave.time(frequency));\r\n        const y = boundary.y + boundary.height / count * (count - i - 1) + (boundary.height / count / 2);\r\n        const slider = {\r\n            x: 0,\r\n            y: y,\r\n            motion,\r\n            height: heightFunction(i)\r\n        };\r\n        result.push(slider);\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction drawSliders(screen, sliders) {\r\n    screen.drawRectangles(sliders);\r\n}\r\n\r\nfunction makeBoundary(screen) {\r\n    const marginPercent = settings.screenMargin;\r\n    const xMin = screen.width * marginPercent;\r\n    const yMin = screen.height * marginPercent;\r\n    const xMax = screen.width - xMin;\r\n    const yMax = screen.height - yMin;\r\n    const boundary = {\r\n        x: xMin,\r\n        y: yMin,\r\n        width: xMax - xMin,\r\n        height: yMax - yMin\r\n    };\r\n    return boundary;\r\n}\r\n\r\nexport default Scene;\n\n\n/** WEBPACK FOOTER **\n ** ./d:/Ross/docs/projects/generative/simpatico/src/scene/scene.js\n **/","const settings = {\r\n    palette: [\"#f00\"],\r\n    numSliders: 40,\r\n    sliderHeightMin: 0.1,\r\n    sliderHeightMax: 0.4,\r\n    slowestSliderPeriodMs: 2500,\r\n    fastestSliderPeriodMs: 1500,\r\n    screenMargin: 0.05,\r\n    sliderWidthMin: 0.05,\r\n    sliderWidthMax: 0.4,\r\n};\r\n\r\nexport default settings;\n\n\n/** WEBPACK FOOTER **\n ** ./d:/Ross/docs/projects/generative/simpatico/src/settings.js\n **/","let totalTimeMs = 0;\r\nlet lastDeltaMs = 0;\r\n\r\nexport function updateTime(deltaMs) {\r\n    lastDeltaMs = deltaMs;\r\n    totalTimeMs += deltaMs;\r\n}\r\n\r\n//todo: can this be shuffled around to improve the performance?\r\nexport function getTimeProgress(frequencyHz) {\r\n    var periodMs = 1000 / frequencyHz;\r\n    return (totalTimeMs % periodMs) / periodMs;\r\n}\r\n\r\nexport function getTotalTimeMs() {\r\n    return totalTimeMs;\r\n}\r\n\r\nexport function getLastDeltaMs() {\r\n    return lastDeltaMs;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./d:/Ross/docs/projects/generative/simpatico/src/core/timeKeeper.js\n **/","import * as timeKeeper from \"./timeKeeper.js\";\r\n\r\nlet wave = build;\r\nwave.linear = linear;\r\nwave.sawtooth = sawtooth;\r\nwave.sine = sine;\r\nwave.triangle = triangle;\r\nwave.square = square;\r\nwave.round = round;\r\nwave.reverse = reverse;\r\nwave.time = time;\r\nwave.timePeriod = timePeriod;\r\nwave.smooth = smoothStep;\r\nexport default wave;\r\n\r\n/**\r\n * config options:\r\n * frequency\r\n * shift\r\n * min\r\n * max\r\n * frequencyMod\r\n * phaseMod\r\n * carrierMin\r\n * carrierMax\r\n * carrierFrequency\r\n */\r\nfunction build(carrier, config) {\r\n    if(!carrier || typeof carrier !== \"function\") {\r\n        return x => carrier;\r\n    }\r\n    if(!config) {\r\n        return carrier;\r\n    }\r\n    const carrierFrequency = config.carrierFrequency || 1;\r\n    const carrierMin = config.carrierMin || 0;\r\n    const carrierMax = config.carrierMax || 1;\r\n    const targetMin = config.min || 0;\r\n    const targetMax = config.max || 1;\r\n    const frequency = config.frequency || 1;\r\n    const shift = config.shift || 0;\r\n    const frequencyMod = config.frequencyMod || (x => 1);\r\n    const phaseMod = config.phaseMod || (x => 0);\r\n    const targetDelta = targetMax - targetMin;\r\n    const carrierDelta = carrierMax - carrierMin;\r\n\r\n    const A = carrierDelta != 0\r\n        ? targetDelta / carrierDelta\r\n        : 0;\r\n    const B = carrierFrequency != 0\r\n        ? frequency / carrierFrequency\r\n        : 0;\r\n    const C = -shift;\r\n    const D = targetMin - carrierMin;\r\n\r\n    const result = x => {\r\n        const a = A;\r\n        const b = B * frequencyMod(x);\r\n        const c = C + phaseMod(x);\r\n        const d = D;\r\n        const func = carrier;\r\n        return a * func(b * (x + c)) + d;\r\n    };\r\n    return result;\r\n}\r\n\r\nfunction time(x) {\r\n    return timeKeeper.getTimeProgress(x);\r\n}\r\n\r\nfunction timePeriod(x) {\r\n    const totalTimeMs = timeKeeper.getTotalTimeMs();\r\n    return (totalTimeMs % x) / x;\r\n}\r\n\r\nfunction linear(x) {\r\n    return x % 1;\r\n}\r\n\r\n//todo improve this. generate using fft?\r\nfunction sawtooth(x) {\r\n    return linear(x);\r\n}\r\n\r\nfunction sine(x) {\r\n    return Math.sin(x * Math.PI * 2) * 0.5 + 0.5;\r\n}\r\n\r\nfunction triangle(x) {\r\n    return Math.abs(((0.5 + x) % 1) - 0.5) * 2;\r\n}\r\n\r\n//todo this looks wrong. test\r\nfunction square(x) {\r\n    Math.sign(sine(x));\r\n}\r\n\r\n//todo: make this periodic\r\nfunction round(x) {\r\n    const y = x % 1;\r\n    const rad = Math.PI / 2;\r\n    const down = 3 * rad;\r\n    const turn = y * rad;\r\n    return 1 + Math.sin(down + turn);\r\n}\r\n\r\n//linear from 1 (exclusive) down to 0 (inclusive)\r\nfunction reverse(x) {\r\n    return 1 - Number.EPSILON - x;\r\n}\r\n\r\nfunction smoothStep(x) {\r\n    const y = x % 1;\r\n    return y * y * (3 - 2 * y);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./d:/Ross/docs/projects/generative/simpatico/src/core/wave.js\n **/","(function(){function f(e){return function(f,g,b){return e([f,g,b])}}var h=h||{};(function(){function e(){}function f(){}function g(){}h.h=h.h||{};g.m=function(a){a=a.charCodeAt(1);if(a==a)return a};g.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return\"\";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};f.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=g.m(a)&&88!=g.m(a)||(b=parseInt(a));return isNaN(b)?null:b};e.L=function(a){var b=\"\";do b=\n\"0123456789ABCDEF\".charAt(a&15)+b,a>>>=4;while(0<a);for(;2>b.length;)b=\"0\"+b;return b};var b=h.h.a=function(){};b.s=function(a){for(var d=[],c=Math.pow(a+16,3)/1560896,c=c>b.o?c:a/b.i,k=0;3>k;)for(var l=k++,e=b.c[l][0],f=b.c[l][1],l=b.c[l][2],g=0;2>g;){var h=g++,m=(632260*l-126452*f)*c+126452*h;d.push([(284517*e-94839*l)*c/m,((838422*l+769860*f+731718*e)*a*c-769860*h*a)/m])}return d};b.T=function(a,b){return(a[1]-b[1])/(b[0]-a[0])};b.K=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))};\nb.Y=function(a,b){return b[1]/(Math.sin(a)-b[0]*Math.cos(a))};b.C=function(a){a=b.s(a);for(var d=1.7976931348623157E308,c=0;2>c;)var k=c++,e=a[k][0],k=a[k][1],f=b.T([e,k],[-1/e,0]),d=Math.min(d,b.K([f,k+f*e]));return d};b.B=function(a,d){for(var c=d/360*Math.PI*2,e=b.s(a),f=1.7976931348623157E308,g=0;g<e.length;){var h=e[g];++g;h=b.Y(c,h);0<=h&&(f=Math.min(f,h))}return f};b.b=function(a,b){for(var c=0,d=0,e=a.length;d<e;)var f=d++,c=c+a[f]*b[f];return c};b.g=function(a){return.0031308>=a?12.92*a:\n1.055*Math.pow(a,.4166666666666667)-.055};b.l=function(a){return.04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92};b.ca=function(a){return[b.g(b.b(b.c[0],a)),b.g(b.b(b.c[1],a)),b.g(b.b(b.c[2],a))]};b.aa=function(a){a=[b.l(a[0]),b.l(a[1]),b.l(a[2])];return[b.b(b.j[0],a),b.b(b.j[1],a),b.b(b.j[2],a)]};b.da=function(a){return a<=b.o?a/b.f*b.i:116*Math.pow(a/b.f,.3333333333333333)-16};b.U=function(a){return 8>=a?b.f*a/b.i:b.f*Math.pow((a+16)/116,3)};b.ba=function(a){var d=a[0],c=a[1];a=d+15*c+3*a[2];0!=a?\n(d=4*d/a,a=9*c/a):a=d=NaN;c=b.da(c);return 0==c?[0,0,0]:[c,13*c*(d-b.D),13*c*(a-b.F)]};b.$=function(a){var d=a[0];if(0==d)return[0,0,0];var c=a[1]/(13*d)+b.D;a=a[2]/(13*d)+b.F;d=b.U(d);c=0-9*d*c/((c-4)*a-c*a);return[c,d,(9*d-15*a*d-a*c)/(3*a)]};b.Z=function(a){var b=a[0],c=a[1],e=a[2];a=Math.sqrt(c*c+e*e);1E-8>a?c=0:(c=180*Math.atan2(e,c)/3.141592653589793,0>c&&(c=360+c));return[b,a,c]};b.X=function(a){var b=a[1],c=a[2]/360*2*Math.PI;return[a[0],Math.cos(c)*b,Math.sin(c)*b]};b.P=function(a){var d=\na[0],c=a[1];a=a[2];if(99.9999999<a)return[100,0,d];if(1E-8>a)return[0,0,d];c*=b.B(a,d)/100;return[a,c,d]};b.V=function(a){var d=a[0],c=a[1];a=a[2];if(99.9999999<d)return[a,0,100];if(1E-8>d)return[a,0,0];var e=b.B(d,a);return[a,c/e*100,d]};b.S=function(a){var d=a[0],c=a[1];a=a[2];if(99.9999999<a)return[100,0,d];if(1E-8>a)return[0,0,d];c*=b.C(a)/100;return[a,c,d]};b.W=function(a){var d=a[0],c=a[1];a=a[2];if(99.9999999<d)return[a,0,100];if(1E-8>d)return[a,0,0];var e=b.C(d);return[a,c/e*100,d]};b.G=function(a){for(var b=\n\"#\",c=0,f=a.length;c<f;)var g=c++,b=b+e.L(Math.round(255*a[g]));return b};b.u=function(a){return[f.parseInt(\"0x\"+g.substr(a,1,2).toUpperCase())/255,f.parseInt(\"0x\"+g.substr(a,3,2).toUpperCase())/255,f.parseInt(\"0x\"+g.substr(a,5,2).toUpperCase())/255]};b.A=function(a){return b.ca(b.$(b.X(a)))};b.J=function(a){return b.Z(b.ba(b.aa(a)))};b.v=function(a){return b.A(b.P(a))};b.H=function(a){return b.V(b.J(a))};b.w=function(a){return b.A(b.S(a))};b.I=function(a){return b.W(b.J(a))};b.O=function(a){return b.G(b.v(a))};\nb.R=function(a){return b.G(b.w(a))};b.M=function(a){return b.H(b.u(a))};b.N=function(a){return b.I(b.u(a))};b.c=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]];b.j=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]];b.f=1;b.D=.19783000664283;b.F=.46831999493879;b.i=903.2962962;b.o=.0088564516})(\"undefined\"!=\ntypeof console?console:{log:function(){}});var e=h.h,e={fromRGB:f(e.a.H),fromHex:e.a.M,toRGB:f(e.a.v),toHex:f(e.a.O),p:{fromRGB:f(e.a.I),fromHex:e.a.N,toRGB:f(e.a.w),toHex:f(e.a.R)}};\"undefined\"!==typeof jQuery&&(jQuery.husl=e);\"undefined\"!==typeof module&&(module.exports=e);\"undefined\"!==typeof define&&define(e);\"undefined\"!==typeof window&&(window.HUSL=e)})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/husl/dist/husl.min.js\n ** module id = 7\n ** module chunks = 0\n **/","export function randomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nexport function randomNumber(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nexport function distance(a, b) {\r\n    return Math.hypot(b.x - a.x, b.y - a.y);\r\n}\r\n\r\nexport function clamp(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n\r\nexport function scale(value, min, max) {\r\n    const delta = max - min;\r\n    const result = value * delta + min;\r\n    return result;\r\n}\r\n\r\nexport function scaleFrom(value, valueMin, valueMax, newMin, newMax) {\r\n    const oldDelta = valueMax - valueMin;\r\n    const newDelta = newMax - newMin;\r\n    //difference in scale between old range and new range\r\n    const ratio = newDelta / oldDelta;\r\n    //shift the value so zero is the min, then scale by the ratio, then shift to the new min.\r\n    const result = (value - valueMin) * ratio + newMin;\r\n    return result;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./d:/Ross/docs/projects/generative/simpatico/src/core/utility.js\n **/"],"sourceRoot":""}