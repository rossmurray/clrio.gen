{"version":3,"sources":["webpack:///webpack/bootstrap 992bd1a1785d87e47dbe","webpack:///./src/main.js","webpack:///./~/mainloop.js/build/mainloop.min.js","webpack:///./src/core/screen.js","webpack:///./src/scene/scene.js","webpack:///./src/settings.js","webpack:///./src/scene/panels.js","webpack:///./src/scene/panel.js","webpack:///./src/scene/panelMotion.js","webpack:///./src/core/wave.js","webpack:///./src/core/timeKeeper.js","webpack:///./src/core/utility.js","webpack:///./~/husl/husl.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js"],"names":["mainLoop","timeKeeper","scene","screen","main","canvas","document","getElementById","context","getContext","width","clientWidth","height","clientHeight","setUpdate","mainUpdate","setDraw","mainDraw","setEnd","mainEnd","start","deltaMs","updateTime","update","interpolationPercentage","resize","clear","draw","fps","panic","discardedTime","Math","round","resetFrameDelta","console","warn","Screen","color","shadowBlur","clearRect","fillStyle","fillRect","circles","circle","drawCircle","x","y","r","lines","line","drawLine","radians","length","rectangles","shadowSize","shadowColor","rect","beginPath","arc","PI","fill","strokeStyle","lineWidth","x2","cos","y2","sin","moveTo","lineTo","stroke","Scene","panels","numPanels","settings","bgColor","panelXMarginFactor","panelYMarginFactor","panelMinWidthFactorOfMargin","panelMaxWidthFactorOfMin","panelMinHeightRatio","panelMaxHeightRatio","panelMinTTL","panelMaxTTL","panelShadowSize","utility","husl","Panels","n","boundary","determineBoundary","initialPanels","randomPanels","panelData","data","panelMotion","motion","now","getTotalTimeMs","i","panel","arrivalTotalMs","ttl","randomInt","embarkTotalMs","smooth","t","origin","target","randomPosition","percentageToTarget","drawRectangles","Array","apply","map","minWidth","x1","y1","maxWidth","minHeightRatio","maxHeightRatio","d","m","randomNumber","position","h","s","l","toHex","marginX","marginY","maxX","maxY","panelHeight","makeArrivalTime","Panel","PanelMotion","defaultMotion","time","wave","build","linear","sawtooth","sine","triangle","square","reverse","timePeriod","smoothStep","carrier","config","carrierFrequency","carrierMin","carrierMax","targetMin","min","targetMax","max","frequency","shift","frequencyMod","phaseMod","targetDelta","carrierDelta","A","B","C","D","result","a","b","c","func","getTimeProgress","totalTimeMs","abs","sign","rad","down","turn","Number","EPSILON","frequencyHz","periodMs","distance","floor","random","hypot"],"mappings":"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AAuC,gCAAgC;AACvE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,cAAa;AACb,cAAa;AACb,cAAa;AACb,eAAc;AACd,gBAAe;AACf,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAoC,UAAU;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,UAAU;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;;;;;;;;AC7XD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA,8BAA6B,mDAAmD","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 992bd1a1785d87e47dbe\n **/","import * as mainLoop from \"mainloop.js\";\r\nimport Screen from \"./core/screen.js\";\r\nimport Scene from \"./scene/scene.js\";\r\nimport * as timeKeeper from \"./core/timeKeeper.js\";\r\nimport settings from \"./settings.js\";\r\n\r\nvar scene;\r\nvar screen;\r\n\r\nfunction main() {\r\n    const canvas = document.getElementById(\"canvas\");\r\n    const context = canvas.getContext(\"2d\");\r\n    const width = canvas.clientWidth;\r\n    const height = canvas.clientHeight;\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    screen = new Screen(canvas, context);\r\n    scene = new Scene(screen);\r\n    mainLoop.setUpdate(mainUpdate);\r\n    mainLoop.setDraw(mainDraw);\r\n    mainLoop.setEnd(mainEnd);\r\n    mainLoop.start();\r\n}\r\n\r\nfunction mainUpdate(deltaMs) {\r\n    timeKeeper.updateTime(deltaMs);\r\n    scene.update();\r\n}\r\n\r\nfunction mainDraw(interpolationPercentage) {\r\n    screen.resize();\r\n    //screen.clear(settings.bgColor);\r\n    screen.clear();\r\n    scene.draw();\r\n}\r\n\r\nfunction mainEnd(fps, panic) {\r\n    if(panic) {\r\n        var discardedTime = Math.round(mainLoop.resetFrameDelta());\r\n        console.warn(\"Main loop panicked, probably because the browser tab was put in the background. Discarding \" + discardedTime + \"ms\");\r\n    }\r\n}\r\n\r\nmain();\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","/**\n * mainloop.js 1.0.3-20160320\n *\n * @author Isaac Sukin (http://www.isaacsukin.com/)\n * @license MIT\n */\n\n!function(a){function b(a){if(v=o(b),!(e+j>a)){for(d+=a-e,e=a,r(a,d),a>g+1e3&&(f=.25*h+.75*f,g=a,h=0),h++,i=0;d>=c;)if(s(c),d-=c,++i>=240){m=!0;break}t(d/c),u(f,m),m=!1}}var c=1e3/60,d=0,e=0,f=60,g=0,h=0,i=0,j=0,k=!1,l=!1,m=!1,n=\"object\"==typeof window?window:a,o=n.requestAnimationFrame||function(){var a=Date.now(),b,d;return function(e){return b=Date.now(),d=Math.max(0,c-(b-a)),a=b+d,setTimeout(function(){e(b+d)},d)}}(),p=n.cancelAnimationFrame||clearTimeout,q=function(){},r=q,s=q,t=q,u=q,v;a.MainLoop={getSimulationTimestep:function(){return c},setSimulationTimestep:function(a){return c=a,this},getFPS:function(){return f},getMaxAllowedFPS:function(){return 1e3/j},setMaxAllowedFPS:function(a){return\"undefined\"==typeof a&&(a=1/0),0===a?this.stop():j=1e3/a,this},resetFrameDelta:function(){var a=d;return d=0,a},setBegin:function(a){return r=a||r,this},setUpdate:function(a){return s=a||s,this},setDraw:function(a){return t=a||t,this},setEnd:function(a){return u=a||u,this},start:function(){return l||(l=!0,v=o(function(a){t(1),k=!0,e=a,g=a,h=0,v=o(b)})),this},stop:function(){return k=!1,l=!1,p(v),this},isRunning:function(){return k}},\"function\"==typeof define&&define.amd?define(a.MainLoop):\"object\"==typeof module&&null!==module&&\"object\"==typeof module.exports&&(module.exports=a.MainLoop)}(this);\n//# sourceMappingURL=mainloop.min.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mainloop.js/build/mainloop.min.js\n ** module id = 1\n ** module chunks = 0\n **/","const Screen = class Screen {\r\n    constructor(canvas, context) {\r\n        this.canvas = canvas;\r\n        this.context = context;\r\n        this.width = canvas.width;\r\n        this.height = canvas.height;\r\n    }\r\n\r\n    clear(color) {\r\n        this.context.shadowBlur = 0;\r\n        if(!color) {\r\n            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n            return;\r\n        }\r\n        this.context.fillStyle = color;\r\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    resize() {\r\n        const width = this.canvas.clientWidth;\r\n        const height = this.canvas.clientHeight;\r\n        if(this.canvas.width != width || this.canvas.height != height) {\r\n            this.canvas.width = width;\r\n            this.canvas.height = height;\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n    }\r\n\r\n    drawCircles(circles) {\r\n        for(const circle of circles) {\r\n            drawCircle(this.context, circle.x, circle.y, circle.r, circle.color);\r\n        }\r\n    }\r\n\r\n    drawLines(lines) {\r\n        for(const line of lines) {\r\n            drawLine(this.context, line.x, line.y, line.radians, line.length);\r\n        }\r\n    }\r\n\r\n    drawRectangles(rectangles, shadowSize) {\r\n        if(shadowSize) {\r\n            this.context.shadowColor = \"#000\";\r\n            this.context.shadowBlur = 10;\r\n        }\r\n        for(const rect of rectangles) {\r\n            this.context.fillStyle = rect.color;\r\n            this.context.fillRect(rect.x, rect.y, rect.width, rect.height);\r\n        }\r\n    }\r\n};\r\n\r\nfunction drawCircle(context, x, y, r, fillStyle) {\r\n    context.beginPath();\r\n    context.arc(x, y, r, 0, 2 * Math.PI, false);\r\n    if (fillStyle) {\r\n        context.fillStyle = fillStyle;\r\n    }\r\n    context.fill();\r\n}\r\n\r\nfunction drawLine(context, x, y, length, radians, strokeStyle, lineWidth) {\r\n    var x2 = x + length * Math.cos(radians);\r\n    var y2 = y + length * Math.sin(radians);\r\n    context.beginPath();\r\n    context.moveTo(x, y);\r\n    context.lineTo(x2, y2);\r\n    if (strokeStyle) {\r\n        context.strokeStyle = strokeStyle;\r\n    }\r\n    if (lineWidth) {\r\n        context.lineWidth = lineWidth;\r\n    }\r\n    context.stroke();\r\n}\r\n\r\nexport default Screen;\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/screen.js\n **/","import settings from \"../settings.js\";\r\nimport Panels from \"./panels.js\";\r\n\r\nconst Scene = class Scene {\r\n    constructor(screen) {\r\n        this.panels = new Panels(settings.numPanels, screen);\r\n        this.screen = screen;\r\n    }\r\n\r\n    update() {\r\n        this.panels.update();\r\n    }\r\n\r\n    draw() {\r\n        this.panels.draw();\r\n    }\r\n};\r\n\r\nexport default Scene;\n\n\n/** WEBPACK FOOTER **\n ** ./src/scene/scene.js\n **/","const settings = {\r\n    bgColor: \"#222222\",\r\n    numPanels: 55,\r\n    panelXMarginFactor: 0.05,\r\n    panelYMarginFactor: 0.05,\r\n    panelMinWidthFactorOfMargin: 0.4,\r\n    panelMaxWidthFactorOfMin: 2.4,\r\n    panelMinHeightRatio: 0.9,\r\n    panelMaxHeightRatio: 2.6,\r\n    panelMinTTL: 4700,\r\n    panelMaxTTL: 8133,\r\n    panelShadowSize: 10\r\n};\r\n\r\nexport default settings;\n\n\n/** WEBPACK FOOTER **\n ** ./src/settings.js\n **/","import Panel from \"./panel.js\";\r\nimport PanelMotion from \"./panelMotion.js\";\r\nimport * as utility from \"../core/utility.js\";\r\nimport * as husl from \"husl\";\r\nimport wave from \"../core/wave.js\";\r\nimport * as timeKeeper from \"../core/timeKeeper.js\";\r\nimport settings from \"../settings.js\";\r\n\r\nconst Panels = class Panels {\r\n    constructor(n, screen) {\r\n        this.boundary = determineBoundary(screen.width, screen.height);\r\n        const initialPanels = randomPanels(n, this.boundary);\r\n        this.panelData = initialPanels.data;\r\n        this.panelMotion = initialPanels.motion;\r\n        //this.panelData = Array.from(Array(n)).map(() => new Panel());\r\n        this.screen = screen;\r\n    }\r\n\r\n    update() {\r\n        determineBoundary(this.screen.width, this.screen.height);\r\n        const n = this.panelData.length;\r\n        const now = timeKeeper.getTotalTimeMs();\r\n        for(let i = 0; i < n; i++) {\r\n            const panel = this.panelData[i];\r\n            const motion = this.panelMotion[i];\r\n            if(now >= motion.arrivalTotalMs) {\r\n                const ttl = utility.randomInt(settings.panelMinTTL, settings.panelMaxTTL);\r\n                motion.arrivalTotalMs = now + ttl;\r\n                motion.embarkTotalMs = now;\r\n                motion.motion = t => wave.smooth(wave.smooth((t - motion.embarkTotalMs) / (motion.arrivalTotalMs - motion.embarkTotalMs)));  \r\n                motion.origin.x = panel.x;\r\n                motion.origin.y = panel.y;\r\n                motion.target = randomPosition(this.boundary, panel.height);\r\n            }\r\n            else {\r\n                const percentageToTarget = motion.motion(now);\r\n                panel.x = percentageToTarget * (motion.target.x - motion.origin.x) + motion.origin.x;\r\n                panel.y = percentageToTarget * (motion.target.y - motion.origin.y) + motion.origin.y;\r\n                //panel.color = husl.toHex(percentageToTarget * 360, 100, 55);\r\n            }\r\n            //update color?\r\n            //update dimensions?\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        this.screen.drawRectangles(this.panelData, settings.panelShadowSize);\r\n    }\r\n};\r\n\r\nfunction randomPanels(n, boundary) {\r\n    const data = Array.apply(null, Array(n)).map(() => new Panel());\r\n    const motion = Array.apply(null, Array(n)).map(() => new PanelMotion());\r\n    const minWidth = (boundary.x1 + boundary.y1) * settings.panelMinWidthFactorOfMargin;\r\n    const maxWidth = minWidth * settings.panelMaxWidthFactorOfMin;\r\n    const minHeightRatio = settings.panelMinHeightRatio;\r\n    const maxHeightRatio = settings.panelMaxHeightRatio;\r\n    const now = timeKeeper.getTotalTimeMs();\r\n    for(let i = 0; i < n; i++) {\r\n        const d = data[i];\r\n        const m = motion[i];\r\n        d.width = utility.randomNumber(minWidth, maxWidth);\r\n        d.height = d.width * utility.randomNumber(minHeightRatio, maxHeightRatio);\r\n        const position = randomPosition(boundary, d.height);\r\n        d.x = position.x;\r\n        d.y = position.y;\r\n        m.origin = {x: position.x, y: position.y};\r\n        const ttl = utility.randomInt(settings.panelMinTTL, settings.panelMaxTTL);\r\n        m.arrivalTotalMs = now + ttl;\r\n        m.embarkTotalMs = now;\r\n        m.motion = t => wave.smooth(wave.smooth((t - m.embarkTotalMs) / (m.arrivalTotalMs - m.embarkTotalMs)));\r\n        m.target = randomPosition(boundary, d.height);\r\n        const h = utility.randomNumber(70, 90);\r\n        const s = 100;\r\n        const l = utility.randomNumber(70, 90);\r\n        d.color = husl.toHex(h, s, l);\r\n    }\r\n    return {data, motion};\r\n}\r\n\r\nfunction determineBoundary(width, height) {\r\n    const marginX = width * settings.panelXMarginFactor;\r\n    const marginY = height * settings.panelYMarginFactor;\r\n    const maxX = width - marginX;\r\n    const maxY = height - marginY;\r\n    return {\r\n        x1: marginX,\r\n        y1: marginY,\r\n        x2: maxX,\r\n        y2: maxY\r\n    };\r\n}\r\n\r\nfunction randomPosition(boundary, panelHeight) {\r\n    return {\r\n        x: utility.randomInt(boundary.x1, boundary.x2),\r\n        y: utility.randomInt(boundary.y1, boundary.y2 - panelHeight)\r\n    };\r\n}\r\n\r\nfunction makeArrivalTime() {\r\n    return timeKeeper.getTotalTimeMs()\r\n        + utility.randomInt(settings.panelMinTTL, settings.panelMaxTTL);\r\n}\r\n\r\nexport default Panels;\n\n\n/** WEBPACK FOOTER **\n ** ./src/scene/panels.js\n **/","const Panel = class Panel {\r\n    constructor() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.width = 70;\r\n        this.height = 135;\r\n        this.color = \"#f4f131\";\r\n    }\r\n};\r\n\r\nexport default Panel;\n\n\n/** WEBPACK FOOTER **\n ** ./src/scene/panel.js\n **/","import wave from \"../core/wave.js\";\r\n\r\nconst PanelMotion = class PanelMotion {\r\n    constructor() {\r\n        this.target = {x: 0, y: 0};\r\n        this.origin = {x: 0, y: 0};\r\n        this.motion = defaultMotion;\r\n        this.arrivalTotalMs = 0;\r\n        this.embarkTotalMs = 0;\r\n    }\r\n};\r\n\r\nfunction defaultMotion() {\r\n    return wave.time(1/5);\r\n}\r\n\r\nexport default PanelMotion;\n\n\n/** WEBPACK FOOTER **\n ** ./src/scene/panelMotion.js\n **/","import * as timeKeeper from \"./timeKeeper.js\";\r\n\r\nlet wave = build;\r\nwave.linear = linear;\r\nwave.sawtooth = sawtooth;\r\nwave.sine = sine;\r\nwave.triangle = triangle;\r\nwave.square = square;\r\nwave.round = round;\r\nwave.reverse = reverse;\r\nwave.time = time;\r\nwave.timePeriod = timePeriod;\r\nwave.smooth = smoothStep;\r\nexport default wave;\r\n\r\n/**\r\n * config options:\r\n * frequency\r\n * shift\r\n * min\r\n * max\r\n * frequencyMod\r\n * phaseMod\r\n * carrierMin\r\n * carrierMax\r\n * carrierFrequency\r\n */\r\nfunction build(carrier, config) {\r\n    if(!carrier || typeof carrier !== \"function\") {\r\n        return x => carrier;\r\n    }\r\n    if(!config) {\r\n        return carrier;\r\n    }\r\n    const carrierFrequency = config.carrierFrequency || 1;\r\n    const carrierMin = config.carrierMin || 0;\r\n    const carrierMax = config.carrierMax || 1;\r\n    const targetMin = config.min || 0;\r\n    const targetMax = config.max || 1;\r\n    const frequency = config.frequency || 1;\r\n    const shift = config.shift || 0;\r\n    const frequencyMod = config.frequencyMod || (x => 1);\r\n    const phaseMod = config.phaseMod || (x => 0);\r\n    const targetDelta = targetMax - targetMin;\r\n    const carrierDelta = carrierMax - carrierMin;\r\n\r\n    const A = carrierDelta != 0\r\n        ? targetDelta / carrierDelta\r\n        : 0;\r\n    const B = carrierFrequency != 0\r\n        ? frequency / carrierFrequency\r\n        : 0;\r\n    const C = -shift;\r\n    const D = targetMin - (A - carrierMin);\r\n\r\n    const result = x => {\r\n        const a = A;\r\n        const b = B * frequencyMod(x);\r\n        const c = C + phaseMod(x);\r\n        const d = D;\r\n        const func = carrier;\r\n        return a * func(b * (x + c)) + d;\r\n    };\r\n    return result;\r\n}\r\n\r\nfunction time(x) {\r\n    return timeKeeper.getTimeProgress(x);\r\n}\r\n\r\nfunction timePeriod(x) {\r\n    const totalTimeMs = timeKeeper.getTotalTimeMs();\r\n    return (totalTimeMs % x) / x;\r\n}\r\n\r\nfunction linear(x) {\r\n    return x % 1;\r\n}\r\n\r\n//todo improve this. generate using fft?\r\nfunction sawtooth(x) {\r\n    return linear(x);\r\n}\r\n\r\nfunction sine(x) {\r\n    return Math.sin(x * Math.PI * 2) * 0.5 + 0.5;\r\n}\r\n\r\nfunction triangle(x) {\r\n    return Math.abs(((0.5 + x) % 1) - 0.5) * 2;\r\n}\r\n\r\n//todo this looks wrong. test\r\nfunction square(x) {\r\n    Math.sign(sine(x));\r\n}\r\n\r\n//todo: make this periodic\r\nfunction round(x) {\r\n    const rad = Math.PI / 2;\r\n    const down = 3 * rad;\r\n    const turn = x * rad;\r\n    return 1 + Math.sin(down + turn);\r\n}\r\n\r\n//linear from 1 (exclusive) down to 0 (inclusive)\r\nfunction reverse(x) {\r\n    return 1 - Number.EPSILON - x;\r\n}\r\n\r\nfunction smoothStep(x) {\r\n    return x * x * (3 - 2 * x);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/wave.js\n **/","let totalTimeMs = 0;\r\n\r\nexport function updateTime(deltaMs) {\r\n    totalTimeMs += deltaMs;\r\n}\r\n\r\n//todo: can this be shuffled around to improve the performance?\r\nexport function getTimeProgress(frequencyHz) {\r\n    var periodMs = 1000 / frequencyHz;\r\n    return (totalTimeMs % periodMs) / periodMs;\r\n}\r\n\r\nexport function getTotalTimeMs() {\r\n    return totalTimeMs;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/timeKeeper.js\n **/","export function randomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nexport function randomNumber(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nexport function distance(a, b) {\r\n    return Math.hypot(b.x - a.x, b.y - a.y);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/utility.js\n **/","// Generated by CoffeeScript 1.9.3\n(function() {\n  var L_to_Y, Y_to_L, conv, distanceFromPole, dotProduct, epsilon, fromLinear, getBounds, intersectLineLine, kappa, lengthOfRayUntilIntersect, m, m_inv, maxChromaForLH, maxSafeChromaForL, refU, refV, root, toLinear;\n\n  m = {\n    R: [3.2409699419045214, -1.5373831775700935, -0.49861076029300328],\n    G: [-0.96924363628087983, 1.8759675015077207, 0.041555057407175613],\n    B: [0.055630079696993609, -0.20397695888897657, 1.0569715142428786]\n  };\n\n  m_inv = {\n    X: [0.41239079926595948, 0.35758433938387796, 0.18048078840183429],\n    Y: [0.21263900587151036, 0.71516867876775593, 0.072192315360733715],\n    Z: [0.019330818715591851, 0.11919477979462599, 0.95053215224966058]\n  };\n\n  refU = 0.19783000664283681;\n\n  refV = 0.468319994938791;\n\n  kappa = 903.2962962962963;\n\n  epsilon = 0.0088564516790356308;\n\n  getBounds = function(L) {\n    var bottom, channel, j, k, len1, len2, m1, m2, m3, ref, ref1, ref2, ret, sub1, sub2, t, top1, top2;\n    sub1 = Math.pow(L + 16, 3) / 1560896;\n    sub2 = sub1 > epsilon ? sub1 : L / kappa;\n    ret = [];\n    ref = ['R', 'G', 'B'];\n    for (j = 0, len1 = ref.length; j < len1; j++) {\n      channel = ref[j];\n      ref1 = m[channel], m1 = ref1[0], m2 = ref1[1], m3 = ref1[2];\n      ref2 = [0, 1];\n      for (k = 0, len2 = ref2.length; k < len2; k++) {\n        t = ref2[k];\n        top1 = (284517 * m1 - 94839 * m3) * sub2;\n        top2 = (838422 * m3 + 769860 * m2 + 731718 * m1) * L * sub2 - 769860 * t * L;\n        bottom = (632260 * m3 - 126452 * m2) * sub2 + 126452 * t;\n        ret.push([top1 / bottom, top2 / bottom]);\n      }\n    }\n    return ret;\n  };\n\n  intersectLineLine = function(line1, line2) {\n    return (line1[1] - line2[1]) / (line2[0] - line1[0]);\n  };\n\n  distanceFromPole = function(point) {\n    return Math.sqrt(Math.pow(point[0], 2) + Math.pow(point[1], 2));\n  };\n\n  lengthOfRayUntilIntersect = function(theta, line) {\n    var b1, len, m1;\n    m1 = line[0], b1 = line[1];\n    len = b1 / (Math.sin(theta) - m1 * Math.cos(theta));\n    if (len < 0) {\n      return null;\n    }\n    return len;\n  };\n\n  maxSafeChromaForL = function(L) {\n    var b1, j, len1, lengths, m1, ref, ref1, x;\n    lengths = [];\n    ref = getBounds(L);\n    for (j = 0, len1 = ref.length; j < len1; j++) {\n      ref1 = ref[j], m1 = ref1[0], b1 = ref1[1];\n      x = intersectLineLine([m1, b1], [-1 / m1, 0]);\n      lengths.push(distanceFromPole([x, b1 + x * m1]));\n    }\n    return Math.min.apply(Math, lengths);\n  };\n\n  maxChromaForLH = function(L, H) {\n    var hrad, j, l, len1, lengths, line, ref;\n    hrad = H / 360 * Math.PI * 2;\n    lengths = [];\n    ref = getBounds(L);\n    for (j = 0, len1 = ref.length; j < len1; j++) {\n      line = ref[j];\n      l = lengthOfRayUntilIntersect(hrad, line);\n      if (l !== null) {\n        lengths.push(l);\n      }\n    }\n    return Math.min.apply(Math, lengths);\n  };\n\n  dotProduct = function(a, b) {\n    var i, j, ref, ret;\n    ret = 0;\n    for (i = j = 0, ref = a.length - 1; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {\n      ret += a[i] * b[i];\n    }\n    return ret;\n  };\n\n  fromLinear = function(c) {\n    if (c <= 0.0031308) {\n      return 12.92 * c;\n    } else {\n      return 1.055 * Math.pow(c, 1 / 2.4) - 0.055;\n    }\n  };\n\n  toLinear = function(c) {\n    var a;\n    a = 0.055;\n    if (c > 0.04045) {\n      return Math.pow((c + a) / (1 + a), 2.4);\n    } else {\n      return c / 12.92;\n    }\n  };\n\n  conv = {\n    'xyz': {},\n    'luv': {},\n    'lch': {},\n    'husl': {},\n    'huslp': {},\n    'rgb': {},\n    'hex': {}\n  };\n\n  conv.xyz.rgb = function(tuple) {\n    var B, G, R;\n    R = fromLinear(dotProduct(m.R, tuple));\n    G = fromLinear(dotProduct(m.G, tuple));\n    B = fromLinear(dotProduct(m.B, tuple));\n    return [R, G, B];\n  };\n\n  conv.rgb.xyz = function(tuple) {\n    var B, G, R, X, Y, Z, rgbl;\n    R = tuple[0], G = tuple[1], B = tuple[2];\n    rgbl = [toLinear(R), toLinear(G), toLinear(B)];\n    X = dotProduct(m_inv.X, rgbl);\n    Y = dotProduct(m_inv.Y, rgbl);\n    Z = dotProduct(m_inv.Z, rgbl);\n    return [X, Y, Z];\n  };\n\n  Y_to_L = function(Y) {\n    if (Y <= epsilon) {\n      return Y * kappa;\n    } else {\n      return 116 * Math.pow(Y, 1 / 3) - 16;\n    }\n  };\n\n  L_to_Y = function(L) {\n    if (L <= 8) {\n      return L / kappa;\n    } else {\n      return Math.pow((L + 16) / 116, 3);\n    }\n  };\n\n  conv.xyz.luv = function(tuple) {\n    var L, U, V, X, Y, Z, varU, varV;\n    X = tuple[0], Y = tuple[1], Z = tuple[2];\n    if (Y === 0) {\n      return [0, 0, 0];\n    }\n    L = Y_to_L(Y);\n    varU = (4 * X) / (X + (15 * Y) + (3 * Z));\n    varV = (9 * Y) / (X + (15 * Y) + (3 * Z));\n    U = 13 * L * (varU - refU);\n    V = 13 * L * (varV - refV);\n    return [L, U, V];\n  };\n\n  conv.luv.xyz = function(tuple) {\n    var L, U, V, X, Y, Z, varU, varV;\n    L = tuple[0], U = tuple[1], V = tuple[2];\n    if (L === 0) {\n      return [0, 0, 0];\n    }\n    varU = U / (13 * L) + refU;\n    varV = V / (13 * L) + refV;\n    Y = L_to_Y(L);\n    X = 0 - (9 * Y * varU) / ((varU - 4) * varV - varU * varV);\n    Z = (9 * Y - (15 * varV * Y) - (varV * X)) / (3 * varV);\n    return [X, Y, Z];\n  };\n\n  conv.luv.lch = function(tuple) {\n    var C, H, Hrad, L, U, V;\n    L = tuple[0], U = tuple[1], V = tuple[2];\n    C = Math.sqrt(Math.pow(U, 2) + Math.pow(V, 2));\n    if (C < 0.00000001) {\n      H = 0;\n    } else {\n      Hrad = Math.atan2(V, U);\n      H = Hrad * 360 / 2 / Math.PI;\n      if (H < 0) {\n        H = 360 + H;\n      }\n    }\n    return [L, C, H];\n  };\n\n  conv.lch.luv = function(tuple) {\n    var C, H, Hrad, L, U, V;\n    L = tuple[0], C = tuple[1], H = tuple[2];\n    Hrad = H / 360 * 2 * Math.PI;\n    U = Math.cos(Hrad) * C;\n    V = Math.sin(Hrad) * C;\n    return [L, U, V];\n  };\n\n  conv.husl.lch = function(tuple) {\n    var C, H, L, S, max;\n    H = tuple[0], S = tuple[1], L = tuple[2];\n    if (L > 99.9999999 || L < 0.00000001) {\n      C = 0;\n    } else {\n      max = maxChromaForLH(L, H);\n      C = max / 100 * S;\n    }\n    return [L, C, H];\n  };\n\n  conv.lch.husl = function(tuple) {\n    var C, H, L, S, max;\n    L = tuple[0], C = tuple[1], H = tuple[2];\n    if (L > 99.9999999 || L < 0.00000001) {\n      S = 0;\n    } else {\n      max = maxChromaForLH(L, H);\n      S = C / max * 100;\n    }\n    return [H, S, L];\n  };\n\n  conv.huslp.lch = function(tuple) {\n    var C, H, L, S, max;\n    H = tuple[0], S = tuple[1], L = tuple[2];\n    if (L > 99.9999999 || L < 0.00000001) {\n      C = 0;\n    } else {\n      max = maxSafeChromaForL(L);\n      C = max / 100 * S;\n    }\n    return [L, C, H];\n  };\n\n  conv.lch.huslp = function(tuple) {\n    var C, H, L, S, max;\n    L = tuple[0], C = tuple[1], H = tuple[2];\n    if (L > 99.9999999 || L < 0.00000001) {\n      S = 0;\n    } else {\n      max = maxSafeChromaForL(L);\n      S = C / max * 100;\n    }\n    return [H, S, L];\n  };\n\n  conv.rgb.hex = function(tuple) {\n    var ch, hex, j, len1;\n    hex = \"#\";\n    for (j = 0, len1 = tuple.length; j < len1; j++) {\n      ch = tuple[j];\n      ch = Math.round(ch * 1e6) / 1e6;\n      if (ch < 0 || ch > 1) {\n        throw new Error(\"Illegal rgb value: \" + ch);\n      }\n      ch = Math.round(ch * 255).toString(16);\n      if (ch.length === 1) {\n        ch = \"0\" + ch;\n      }\n      hex += ch;\n    }\n    return hex;\n  };\n\n  conv.hex.rgb = function(hex) {\n    var b, g, j, len1, n, r, ref, results;\n    if (hex.charAt(0) === \"#\") {\n      hex = hex.substring(1, 7);\n    }\n    r = hex.substring(0, 2);\n    g = hex.substring(2, 4);\n    b = hex.substring(4, 6);\n    ref = [r, g, b];\n    results = [];\n    for (j = 0, len1 = ref.length; j < len1; j++) {\n      n = ref[j];\n      results.push(parseInt(n, 16) / 255);\n    }\n    return results;\n  };\n\n  conv.lch.rgb = function(tuple) {\n    return conv.xyz.rgb(conv.luv.xyz(conv.lch.luv(tuple)));\n  };\n\n  conv.rgb.lch = function(tuple) {\n    return conv.luv.lch(conv.xyz.luv(conv.rgb.xyz(tuple)));\n  };\n\n  conv.husl.rgb = function(tuple) {\n    return conv.lch.rgb(conv.husl.lch(tuple));\n  };\n\n  conv.rgb.husl = function(tuple) {\n    return conv.lch.husl(conv.rgb.lch(tuple));\n  };\n\n  conv.huslp.rgb = function(tuple) {\n    return conv.lch.rgb(conv.huslp.lch(tuple));\n  };\n\n  conv.rgb.huslp = function(tuple) {\n    return conv.lch.huslp(conv.rgb.lch(tuple));\n  };\n\n  root = {};\n\n  root.fromRGB = function(R, G, B) {\n    return conv.rgb.husl([R, G, B]);\n  };\n\n  root.fromHex = function(hex) {\n    return conv.rgb.husl(conv.hex.rgb(hex));\n  };\n\n  root.toRGB = function(H, S, L) {\n    return conv.husl.rgb([H, S, L]);\n  };\n\n  root.toHex = function(H, S, L) {\n    return conv.rgb.hex(conv.husl.rgb([H, S, L]));\n  };\n\n  root.p = {};\n\n  root.p.toRGB = function(H, S, L) {\n    return conv.xyz.rgb(conv.luv.xyz(conv.lch.luv(conv.huslp.lch([H, S, L]))));\n  };\n\n  root.p.toHex = function(H, S, L) {\n    return conv.rgb.hex(conv.xyz.rgb(conv.luv.xyz(conv.lch.luv(conv.huslp.lch([H, S, L])))));\n  };\n\n  root.p.fromRGB = function(R, G, B) {\n    return conv.lch.huslp(conv.luv.lch(conv.xyz.luv(conv.rgb.xyz([R, G, B]))));\n  };\n\n  root.p.fromHex = function(hex) {\n    return conv.lch.huslp(conv.luv.lch(conv.xyz.luv(conv.rgb.xyz(conv.hex.rgb(hex)))));\n  };\n\n  root._conv = conv;\n\n  root._getBounds = getBounds;\n\n  root._maxChromaForLH = maxChromaForLH;\n\n  root._maxSafeChromaForL = maxSafeChromaForL;\n\n  if (!((typeof module !== \"undefined\" && module !== null) || (typeof jQuery !== \"undefined\" && jQuery !== null) || (typeof requirejs !== \"undefined\" && requirejs !== null))) {\n    this.HUSL = root;\n  }\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = root;\n  }\n\n  if (typeof jQuery !== \"undefined\" && jQuery !== null) {\n    jQuery.husl = root;\n  }\n\n  if ((typeof requirejs !== \"undefined\" && requirejs !== null) && (typeof define !== \"undefined\" && define !== null)) {\n    define(root);\n  }\n\n}).call(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/husl/husl.js\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}